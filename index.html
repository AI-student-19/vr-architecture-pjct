<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>VR House Walkthrough with AI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/annyang@2.6.1/dist/annyang.min.js"></script>
  </head>
  <body>
    <a-scene background="color: #ECECEC" vr-mode-ui="enabled: true">
      <!-- Load your house model -->
      <a-entity id="house"
                gltf-model="vr-house.glb"
                scale="1 1 1"
                position="0 0 -5">
      </a-entity>

<<<<<<< HEAD
      <!-- Camera with gaze cursor -->
      <a-entity id="camera" position="0 1.6 0" camera look-controls wasd-controls>
=======
      <!-- Lighting -->
      <a-entity light="type: ambient; color: #666; intensity: 0.5"></a-entity> <!-- Softer light -->
      <a-entity light="type: directional; color: #ffffff; intensity: 0.7" position="5 10 7"></a-entity> <!-- Warm light source -->

      <!-- Ground -->
      <a-plane position="0 0 0" rotation="-90 0 0" width="100" height="100" color="#999999" shadow></a-plane>

      <!-- Camera rig with walking + mouse -->
      <a-entity id="rig" position="0 1.6 2">
>>>>>>> bfb062e779c7c974d70dcaca9a1e4db9bd101515
        <a-entity 
          cursor="fuse: true; fuseTimeout: 500"
          position="0 0 -1"
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
          material="color: red; shader: flat">
        </a-entity>
      </a-entity>

<<<<<<< HEAD
      <!-- Floor -->
      <a-plane rotation="-90 0 0" width="50" height="50" color="#7BC8A4"></a-plane>
=======
      <!-- GLB house model -->
      <a-entity 
        gltf-model="vr-house.glb" 
        position="0 0 -5"
        rotation="0 90 0" 
        scale="1 1 1"
        shadow="cast: true; receive: true">
      </a-entity>

>>>>>>> bfb062e779c7c974d70dcaca9a1e4db9bd101515
    </a-scene>

    <script>
      // Voice Commands
      if (annyang) {
        let camera = document.querySelector('#camera');
        let house = document.querySelector('#house');

        let commands = {
          'walk forward': () => {
            let pos = camera.getAttribute('position');
            pos.z -= 1;
            camera.setAttribute('position', pos);
          },
          'walk back': () => {
            let pos = camera.getAttribute('position');
            pos.z += 1;
            camera.setAttribute('position', pos);
          },
          'turn left': () => {
            let rot = camera.getAttribute('rotation');
            rot.y += 15;
            camera.setAttribute('rotation', rot);
          },
          'turn right': () => {
            let rot = camera.getAttribute('rotation');
            rot.y -= 15;
            camera.setAttribute('rotation', rot);
          },
          'paint house :color': (color) => {
            house.setAttribute('material', 'color', color);
          }
        };

        annyang.addCommands(commands);
        annyang.start();
      } else {
        console.log("Voice recognition not supported in this browser.");
      }
    </script>
  </body>
</html>
